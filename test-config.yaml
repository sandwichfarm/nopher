# Nopher Test Configuration

logging:
  level: info
  format: text

site:
  title: "Nopher Test Instance"
  operator: "Test Operator"
  description: "Testing Nopher integration"

identity:
  npub: "npub1uac67zc9er54ln0kl6e4qp2y6ta3enfcg7ywnayshvlw9r5w6ehsqq99rx"
  nsec: ""

storage:
  driver: sqlite
  sqlite_path: ./test-data/nopher.db
  lmdb_path: ./test-data/lmdb
  lmdb_max_size_mb: 1024

protocols:
  gopher:
    enabled: true
    host: localhost
    port: 7070
    bind: "0.0.0.0"

  gemini:
    enabled: true
    host: localhost
    port: 1965
    bind: "0.0.0.0"
    tls:
      cert_path: ./test-data/certs/gemini.crt
      key_path: ./test-data/certs/gemini.key
      auto_generate: true

  finger:
    enabled: true
    port: 7079
    bind: "0.0.0.0"
    max_users: 10

relays:
  seeds:
    - wss://relay.damus.io
    - wss://nos.lol
    - wss://purplepag.es
    - wss://user.kindpag.es
    - wss://profiles.nostr1.com

discovery:
  refresh_seconds: 900
  use_owner_hints: true
  use_author_hints: true
  fallback_to_seeds: true
  max_relays_per_author: 8

sync:
  enabled: true
  kinds:
    profiles: true
    notes: true
    contact_list: true
    reposts: false
    reactions: true
    zaps: true
    articles: true
    relay_list: true
    allowlist: []
  scope:
    mode: self
  interval_minutes: 60

inbox:
  enabled: true
  include_replies: true
  include_mentions: true
  include_reactions: true
  include_zaps: true
  include_reposts: false

display:
  feed:
    show_interactions: true
    show_reactions: true
    show_zaps: true
    show_replies: true
  detail:
    show_interactions: true
    show_reactions: true
    show_zaps: true
    show_replies: true
    show_thread: true
  limits:
    summary_length: 100
    max_content_length: 5000
    max_thread_depth: 10
    max_replies_in_feed: 3
    truncate_indicator: "..."

presentation:
  headers:
    global:
      enabled: false
  footers:
    global:
      enabled: false
  separators:
    item:
      gopher: ""
      gemini: ""
      finger: ""
    section:
      gopher: "---"
      gemini: "---"
      finger: "---"

behavior:
  content_filtering:
    enabled: false
    min_reactions: 0
    min_zap_sats: 0
    min_engagement: 0
    hide_no_interactions: false
  sort_preferences:
    notes: "chronological"
    articles: "chronological"
    replies: "chronological"
    mentions: "chronological"
  pagination:
    enabled: false
    items_per_page: 50
    max_pages: 10
